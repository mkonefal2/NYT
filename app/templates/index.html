{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">NYT Articles Dashboard</h1>
    <div class="dashboard">
        <div class="dashboard-item">
            <h2>Word Cloud Last Month</h2>
            <img src="{{ url_for('static', filename='plots/' ~ wordcloud_filename) }}" alt="Word Cloud Last Month" class="chart-img">
        </div>
        <div class="dashboard-item">
            <h2>Line Chart Last Month</h2>
            <img src="{{ url_for('static', filename='plots/' ~ linechart_filename) }}" alt="Line Chart Last Month" class="chart-img">
        </div>
    </div>
</div>

<!-- Modal -->
<div id="chartModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="img01">
    <div id="caption"></div>
</div>

<script>
    // Get the modal
    var modal = document.getElementById("chartModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var images = document.getElementsByClassName('chart-img');
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");

    for (var i = 0; i < images.length; i++) {
        images[i].onclick = function(){
            modal.style.display = "block";
            modalImg.src = this.src;
            captionText.innerHTML = this.alt;
        }
    }
        // Kiedy użytkownik kliknie gdziekolwiek wewnątrz modala, zamknij go
    modal.onclick = function(event) {
        // Sprawdź, czy kliknięcie nastąpiło poza obrazem modalnym
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() { 
        modal.style.display = "none";
    }
</script>
{% endblock %}
