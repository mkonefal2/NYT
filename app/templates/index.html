{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">NYT Articles Dashboard</h1>
    <div class="row">
        <div class="col-md-6 dashboard-item">
            <h2>Word Cloud Last Month</h2>
            <iframe src="{{ url_for('static', filename=wordcloud_filename) }}" width="100%" height="400px" frameborder="0"></iframe>
        </div>
        <div class="col-md-6 dashboard-item">
            <h2>Line Chart Last Month</h2>
            <iframe src="{{ url_for('static', filename=linechart_filename) }}" width="100%" height="400px" frameborder="0"></iframe>
        </div>
    </div>
</div>

<!-- Modal -->
<div id="chartModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="img01">
    <div id="caption"></div>
</div>

<script>
    // Get the modal
    var modal = document.getElementById("chartModal");

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var images = document.getElementsByClassName('chart-img');
    var modalImg = document.getElementById("img01");
    var captionText = document.getElementById("caption");

    for (var i = 0; i < images.length; i++) {
        images[i].onclick = function(){
            if (modal.style.display === "block") {
                modal.style.display = "none";
            } else {
                modal.style.display = "block";
                modalImg.src = this.src;
                captionText.innerHTML = this.alt;
                modalImg.style.transform = "scale(3)"; // Powiększenie na kliknięcie
            }
        }
    }

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() { 
        modal.style.display = "none";
    }

    // Add transition effect
    modalImg.style.transition = "transform 0.6s ease";
</script>
{% endblock %}
